\section{Historical development}\label{sec:historical-development}
The \textit{particle-mesh} (PM) technique, introduced by Roger W. Hockney and James W. Eastwood, was a significant improvement over the PP method.
In the PM approach, the space is divided into a rectangular grid (or mesh) of cells.
Each cell is assigned a portion of the mass of nearby particles, creating a density distribution $\rho(\mathbf{x})$.
The relation between the density and the gravitational potential $\phi$, in the form of Poisson's equation
\begin{equation}\label{eq:poisson}
    \nabla^2\phi = 4\pi G \rho,
\end{equation}
is then used to obtain the potential at each cell center using Fourier techniques.
The gravitational field $\mathbf{g}$ can then be calculated as $\mathbf{g} = -\nabla \phi$.
Since $\mathbf{g}$ equals the acceleration due to gravity, we get $\ddot{\mathbf{x}}_i = \mathbf{g}(\mathbf{x}_i)$.
The PM method and its theoretical grounding were most extensively described by Hockney and Eastwood in \textit{Computer Simulation Using Particles} textbook published in 1988 \cite{Hockney1988}.
However, one of the first papers treating the problem of solving the Poisson equation using Fourier analysis (\textit{A Fast Direct Solution of Poisson's Equation Using Fourier Analysis} by R.W. Hockney) can be traced back to 1965 \cite{10.1145/321250.321259}.

The drawback of the PM method is its poor modeling of forces over short distances.
Eastwood and Hockney proposed a remedy for this problem in the form of a hybrid approach, called the \textit{particle-particle-particle-mesh} method (or \PThreeM{} in short).
In the \PThreeM{} method, the force on a given particle is split into two components: \textit{short-range} and \textit{long-range} force.
The long-range force is calculated using the PM method, whereas the short-range force can be found by direct summation of the forces due to nearby particles.
The \PThreeM{} method was developed across the papers published by the authors between 1973 and 1980 with its thorough description given in \textit{Computer Simulation Using Particles} \cite{Hockney1988}.

The computational complexity of the PM and \PThreeM{} methods depends on the implementation of the potential solver used to calculate $\phi$ from \autoref{eq:poisson}.
For instance, if a fast Fourier transform is used, then the complexity of the PM algorithm is $O(N + N_g^3\log N_g^3)$, where $N_g$ is the number of cells in a single dimension of the grid (note that it is linear in $N$).
For the \PThreeM{} method, the worst-case scenario happens when all particles are clustered closely together, which causes the short-range $O(N^2)$ correction part to become dominant.

In 1986, Josh Barnes and Piet Hut introduced a hierarchical method for $N$-body simulations, now known as the Barnes-Hut algorithm, in the paper \textit{A hierarchical O(N log N) force-calculation algorithm} \cite{barnes1986hierarchical}.
The method developed by the authors uses a hierarchical subdivision of space into cubical cells where the subdivision is carried out recursively until at most one body can be found in any subdivision.
The algorithm reduces the time complexity to $O(N \log N)$ by approximating groups of distant particles as a single ``pseudo-particle.''

Other notable examples of $N$-body simulation algorithms include (and are not restricted to) the Fast Multipole Method and Adaptive Mesh Refinement method \cite{trenti2008nbody}.
